<div id="pageContainer" class="modal fade" role="dialog">

    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-arrow-container">
                {{#if prevId}}
                    <div class="glyphicons glyphicons-left-arrow modal-arrow" id="prevArticle" data-prev-id="{{prevId}}" data-id="{{id}}">Prev</div>
                {{/if}}
            </div>
            <div class="modal-container">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">{{title}} by {{authorFirst}} {{authorLast}}</h4>
                </div>
                <div class="modal-subheader" data-item-id='{{id}}'>
                    <button class="btn-savetolist favs-lnk" data-item-id='{{id}}'>SAVE TO MY ITEMS</button>
                    {{#if ebookUrl}}
                        <a class="ebook-lnk" href="{{ebookUrl}}" target="_new">View Ebook</a>
                    {{/if}}
                </div>
                <div class="modal-body">
                    <p>{{{fullText}}}</p>
                </div>
            </div>
            <div class="modal-arrow-container">
                {{#if nextId}}
                    <div class="glyphicons glyphicons-right-arrow modal-arrow" id="nextArticle" data-next-id="{{nextId}}" data-id="{{id}}">Next</div>
                {{/if}}
            </div>
        </div>
    </div>

</div>

<script>
    /**
     * Modal trigger - Only fo this if the modal has not launched or has been removed. When loading
     * Prev/Next, we do not want to re-spawn the modal
     */
    $("#modalPlaceholder").trigger("click");

    $('#pageContainer').on('hide.bs.modal', function (e) {
        // load different URL without refreshing page
        window.history.pushState(null,null,"{{baseUrl}}");
        $('.modal-backdrop').remove(); // WHY THE F does this not disappear on it's own???? I hate idiotic hacks
    });

</script>

</div>
